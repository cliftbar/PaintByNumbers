<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Pixelizor Barcode</title>
    <link rel="stylesheet" href="/static/css/shared.css">
    <link rel="stylesheet" href="/static/css/barcode.css">
    <!--<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/@ericblade/quagga2/dist/quagga.js"></script>
    <script src="/static/js/barcode.js"></script>


    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  </head>
  <body>
    <div>
      <div id="links">
        <a href="./index.html">Pixelizor</a>
        <a href="./barcode.html">Barcode</a>
      </div>
      <h1>Barcode Reader</h1>
      <p>
        It only works for UPC codes at the moment.
        Live Camera Capture works the best, but image upload should work as well.
        The API key is shared and a free tier, there are 100 calls available per day.
      </p>
      <div class="controls">
        <div id="div_apiStats">
          <p>Calls Remaining: </p><p id="txt_apiCallsRemaining"></p>
          <p>Resets At: </p><p id="txt_apiResetsAt"></p>
        </div>
        <fieldset id="flds_readerConfig" class="reader-config-group">
          <legend>Reader Config</legend>

          <label for="slct_decoderReaderType">Barcode Type</label>
          <select id="slct_decoderReaderType" name="decoderReaderType">
            <option value="upc" selected>UPC</option>
            <option value="code_128"x>Code 128</option>
            <option value="code_39">Code 39</option>
            <option value="code_39_vin">Code 39 VIN</option>
            <option value="ean">EAN</option>
            <option value="ean_extended">EAN-extended</option>
            <option value="ean_8">EAN-8</option>
            <option value="upc_e">UPC-E</option>
            <option value="codabar">Codabar</option>
            <option value="i2of5">ITF</option>
            <option value="2of5">Standard 2 of 5</option>
            <option value="code_93">Code 93</option>
          </select>

          <label for="slct_inputStreamResolution">Resolution (long side)</label>
          <select id="slct_inputStreamResolution" name="inputStreamResolution">
            <option value="320">320px</option>
            <option value="640">640px</option>
            <option selected="selected" value="800">800px</option>
            <option value="1280">1280px</option>
            <option value="1600">1600px</option>
            <option value="1920">1920px</option>
          </select>

          <label for="slct_locatorPatchSize">Patch-Size</label>
          <select id="slct_locatorPatchSize" name="locatorPatchSize">
            <option value="x-small">x-small</option>
            <option value="small">small</option>
            <option selected="selected" value="medium">medium</option>
            <option value="large">large</option>
            <option value="x-large">x-large</option>
          </select>

          <label for="chbx_locatorDoHalfSample">Do Half-Sample</label>
          <input id="chbx_locatorDoHalfSample" type="checkbox" name="locatorDoHalfSample"/>

          <label for="chbx_singleChannel">Do Single Channel Mode</label>
          <input id="chbx_singleChannel" type="checkbox" name="locatorSingleChannel"/>

          <label for="slct_numWorkers">Worker Count</label>
          <select id="slct_numWorkers" name="numWorkers" disabled>
            <option value="0">0</option>
            <option value="1" selected="selected">1</option>
            <option value="2">2</option>
            <option value="4">4</option>
            <option value="8">8</option>
          </select>
        </fieldset>
        <br />
        <div class="barcode-run-types">
          <fieldset id="flds_fileInput" class="input-group">
            <legend>Barcode Image Upload</legend>
            <input id="inpt_fileUpload" type="file" accept="image/*;capture=camera"/>
            <button id="btn_runFileUploadRead" onclick="quaggaFromFileInit()">Run On File</button>
          </fieldset>
          <fieldset id="flds_liveCapture" class="input-group">
            <legend>Live Camera Capture</legend>
            <button id="btn_runLiveCapture" onclick="quaggaInit()">Run Live Capture</button>
            <button id="btn_stopLiveCapture" onclick="quaggaStop()">Stop Live Capture</button>
          </fieldset>
        </div>
      </div>
      <br />
      <div id="div_interactive" class="viewport"></div>
      <br />
      <div id="div_resultStrip">
        <button id="btn_copyScannedData" onclick="scannedDataCopy()">Copy List</button>
        <ul id="ul_thumbnails" class="thumbnails"></ul>
      </div>
    </div>
  </body>
</html>
